var svv;(()=>{"use strict";var e={d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function r(e){let t=e.getContext("webgl",{preserveDrawingBuffer:!0}),r=new THREE.WebGLRenderer({canvas:e,antialias:!0,preserveDrawingBuffer:!0});return r.setClearColor("#FFFFFF"),[t,r]}e.r(t),e.d(t,{App:()=>s});class s extends class{constructor({el:e}){[this.ctx,this.renderer]=r(e),this.renderer.setClearColor("#FFFFFF"),this.el=e,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(75,e.width/e.height,.1,3e3)}setup(){}update(e){throw console.error("{{update}} not implemented"),Error("no implementation")}draw(){this.renderer.render(this.scene,this.camera)}toDataURL(){return this.el.toDataURL("image/png")}}{constructor({el:e}){super(...arguments),this.el=e,[this.ctx,this.renderer]=r(e),this.renderer.setClearColor(0),this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(75,e.width/e.height,.1,3e3),console.log("(>o_o)> damn..."),this.generateCity(),this.scene.add(new THREE.AmbientLight(14540253,.1));let t=new THREE.DirectionalLight(12004039,.2);t.position.set(0,10,0),t.target.position.set(1,0,5),this.scene.add(t),this.scene.add(t.target),this.scene.fog=new THREE.Fog(0,10,60),this.generateLogo();let s=new THREE.PointLight(16777215,.3);s.position.set(0,10,0),this.scene.add(s),this.center=new THREE.Vector3(0,10,0),this.target=new THREE.Vector3(10,4,0)}generateLogo(){let e=this.scene;(new THREE.FontLoader).load("helvetiker.json",(function(t){let r=new THREE.TextGeometry("TRAX",{font:t,size:1,height:1}),s=new THREE.MeshPhysicalMaterial({color:3354682,emissive:0,roughness:.25,reflectivity:1,clearcoat:1}),i=new THREE.Mesh(r,s);i.position.set(10,5,-2),i.lookAt(-.2,10,.3),e.add(i)}))}generateCity(){for(let e=0;e<=20;e++)for(let t=-10;t<=10;t++){let r=1,s=5+7*Math.random(),i=2*e,n=2*t,o=new THREE.BoxGeometry(r,s,r),a=new THREE.MeshPhysicalMaterial({emissive:4655533,roughness:.5}),h=new THREE.Mesh(o,a);h.position.set(i,0,n),this.scene.add(h)}}move({x:e,y:t}){this.target.y=0+3*t,this.target.z=0+3*e}update(){this.camera.position.x=this.center.x,this.camera.position.y=this.center.y,this.camera.position.z=this.center.z,this.camera.lookAt(this.target)}draw(){this.renderer.render(this.scene,this.camera)}}svv=t})();